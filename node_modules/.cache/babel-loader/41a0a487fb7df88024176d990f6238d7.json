{"ast":null,"code":"import { useStorage } from '@capacitor-community/react-hooks/storage';\nimport { useState } from 'react';\nlet counter = 0;\nexport function useToDoList() {\n  const {\n    get,\n    set,\n    remove\n  } = useStorage();\n  let listStocked; //Pour initialiser la liste stockées en local et la stocker sur la liste temporaire\n\n  const getStockedList = () => {\n    get('listTodo').then(listJson => {\n      if (listJson != null) {\n        listStocked = JSON.parse(listJson);\n        return listStocked;\n      }\n    });\n  };\n\n  ge;\n  let [listItems, updateList] = useState([listStocked]);\n\n  function addItem(text) {\n    const newItem = {\n      id: counter++,\n      text: text,\n      checked: false\n    };\n    const newTable = listItems.concat([newItem]);\n    updateList(newTable);\n  }\n\n  function toggleItem(id) {\n    const updatedList = listItems.map(item => {\n      if (item.id === id) {\n        item.checked = !item.checked;\n      }\n\n      return item;\n    });\n    updateList(updatedList);\n  }\n\n  return {\n    listItems,\n    addItem,\n    toggleItem\n  };\n}","map":{"version":3,"sources":["/Users/justinluczak/Documents/COURS CNAM 2EME ANNEE/webmobile/github/luczak-justin_todo-list/src/hooks/useToDoList.ts"],"names":["useStorage","useState","counter","useToDoList","get","set","remove","listStocked","getStockedList","then","listJson","JSON","parse","ge","listItems","updateList","addItem","text","newItem","id","checked","newTable","concat","toggleItem","updatedList","map","item"],"mappings":"AAAA,SAASA,UAAT,QAA2B,0CAA3B;AAEA,SAASC,QAAT,QAAyB,OAAzB;AAEA,IAAIC,OAAO,GAAG,CAAd;AAEA,OAAO,SAASC,WAAT,GAAuB;AAK1B,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,GAAP;AAAYC,IAAAA;AAAZ,MAAuBN,UAAU,EAAvC;AAEA,MAAIO,WAAJ,CAP0B,CAS1B;;AACA,QAAMC,cAAc,GAAG,MAAM;AACzBJ,IAAAA,GAAG,CAAC,UAAD,CAAH,CAAgBK,IAAhB,CAAsBC,QAAD,IAAc;AAC/B,UAAGA,QAAQ,IAAI,IAAf,EAAqB;AACjBH,QAAAA,WAAW,GAAGI,IAAI,CAACC,KAAL,CAAWF,QAAX,CAAd;AAEA,eAAOH,WAAP;AACH;AACJ,KAND;AAOH,GARD;;AAUAM,EAAAA,EAAE;AAEF,MAAI,CAACC,SAAD,EAAYC,UAAZ,IAA0Bd,QAAQ,CAAC,CAACM,WAAD,CAAD,CAAtC;;AAEA,WAASS,OAAT,CAAiBC,IAAjB,EAAuB;AACnB,UAAMC,OAAO,GAAG;AACZC,MAAAA,EAAE,EAAEjB,OAAO,EADC;AAEZe,MAAAA,IAAI,EAAEA,IAFM;AAGZG,MAAAA,OAAO,EAAE;AAHG,KAAhB;AAMA,UAAMC,QAAQ,GAAGP,SAAS,CAACQ,MAAV,CAAiB,CAACJ,OAAD,CAAjB,CAAjB;AAEAH,IAAAA,UAAU,CAACM,QAAD,CAAV;AACH;;AAED,WAASE,UAAT,CAAoBJ,EAApB,EAAwB;AACpB,UAAMK,WAAW,GAAGV,SAAS,CAACW,GAAV,CAAcC,IAAI,IAAI;AACtC,UAAIA,IAAI,CAACP,EAAL,KAAYA,EAAhB,EAAoB;AAChBO,QAAAA,IAAI,CAACN,OAAL,GAAe,CAACM,IAAI,CAACN,OAArB;AACH;;AACD,aAAOM,IAAP;AACH,KALmB,CAApB;AAOAX,IAAAA,UAAU,CAACS,WAAD,CAAV;AACH;;AAGD,SAAO;AACHV,IAAAA,SADG;AACQE,IAAAA,OADR;AACiBO,IAAAA;AADjB,GAAP;AAIH","sourcesContent":["import { useStorage } from '@capacitor-community/react-hooks/storage';\nimport { verify } from 'crypto';\nimport { useState } from 'react';\n\nlet counter = 0\n\nexport function useToDoList() {\n\n\n\n\n    const { get, set, remove } = useStorage();\n\n    let listStocked;\n\n    //Pour initialiser la liste stockées en local et la stocker sur la liste temporaire\n    const getStockedList = () => {\n        get('listTodo').then((listJson) => {\n            if(listJson != null) {\n                listStocked = JSON.parse(listJson);\n\n                return listStocked\n            }\n        })\n    }\n\n    ge\n    \n    let [listItems, updateList] = useState([listStocked]);\n\n    function addItem(text) {\n        const newItem = {\n            id: counter++,\n            text: text,\n            checked: false\n        }\n\n        const newTable = listItems.concat([newItem])\n\n        updateList(newTable)\n    }\n\n    function toggleItem(id) {\n        const updatedList = listItems.map(item => {\n            if (item.id === id) {\n                item.checked = !item.checked\n            }\n            return item\n        })\n\n        updateList(updatedList)\n    }\n\n\n    return {\n        listItems, addItem, toggleItem\n    }\n\n}"]},"metadata":{},"sourceType":"module"}