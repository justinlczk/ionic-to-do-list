{"ast":null,"code":"import { useStorage } from '@capacitor-community/react-hooks/storage';\nlet tableauToDo = [];\nexport function useToDoList() {\n  const {\n    get,\n    set,\n    remove,\n    getKeys,\n    clear\n  } = useStorage();\n\n  const initializeItems = () => {\n    get('todos').then(valueInitial => {\n      if (valueInitial != null) {\n        const tableauActual = JSON.parse(valueInitial);\n        console.log('Tabbleau enregistré', tableauActual);\n        tableauToDo = tableauActual;\n        console.log('Tabbleau toDo', tableauToDo);\n      }\n    });\n  };\n\n  const saveItem = itemValue => {\n    //remove('todos')\n    tableauToDo.push(itemValue);\n    remove('todos');\n    set('todos', JSON.stringify(tableauToDo)); //console.log(get('todos'))\n  };\n\n  const removeAllItems = () => {\n    //Pour retirer tous les items stockés dans la liste : \n    remove('todos');\n    tableauToDo = [];\n    console.log(tableauToDo);\n  };\n\n  return {\n    saveItem,\n    tableauToDo,\n    removeAllItems,\n    initializeItems\n  };\n}","map":{"version":3,"sources":["/Users/justinluczak/Documents/COURS CNAM 2EME ANNEE/webmobile/Exercice todolist/todolist/src/hooks/useToDoList.ts"],"names":["useStorage","tableauToDo","useToDoList","get","set","remove","getKeys","clear","initializeItems","then","valueInitial","tableauActual","JSON","parse","console","log","saveItem","itemValue","push","stringify","removeAllItems"],"mappings":"AAGA,SAASA,UAAT,QAA8D,0CAA9D;AAGA,IAAIC,WAAqB,GAAG,EAA5B;AAKA,OAAO,SAASC,WAAT,GAAuB;AAE1B,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,GAAP;AAAYC,IAAAA,MAAZ;AAAoBC,IAAAA,OAApB;AAA6BC,IAAAA;AAA7B,MAAuCP,UAAU,EAAvD;;AAEA,QAAMQ,eAAe,GAAG,MAAM;AAAEL,IAAAA,GAAG,CAAC,OAAD,CAAH,CAAaM,IAAb,CAAmBC,YAAD,IAAkB;AAChE,UAAIA,YAAY,IAAI,IAApB,EAA0B;AACtB,cAAMC,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWH,YAAX,CAAtB;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCJ,aAAlC;AACAV,QAAAA,WAAW,GAAGU,aAAd;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4Bd,WAA5B;AACH;AACJ,KAP+B;AAO7B,GAPH;;AASA,QAAMe,QAAQ,GAAIC,SAAD,IAAuB;AACpC;AAEAhB,IAAAA,WAAW,CAACiB,IAAZ,CAAiBD,SAAjB;AACAZ,IAAAA,MAAM,CAAC,OAAD,CAAN;AACAD,IAAAA,GAAG,CAAC,OAAD,EAAUQ,IAAI,CAACO,SAAL,CAAelB,WAAf,CAAV,CAAH,CALoC,CAOpC;AACH,GARD;;AAUA,QAAMmB,cAAc,GAAG,MAAM;AACzB;AACAf,IAAAA,MAAM,CAAC,OAAD,CAAN;AACAJ,IAAAA,WAAW,GAAG,EAAd;AACAa,IAAAA,OAAO,CAACC,GAAR,CAAYd,WAAZ;AACH,GALD;;AASA,SAAO;AACHe,IAAAA,QADG;AACOf,IAAAA,WADP;AACoBmB,IAAAA,cADpB;AACoCZ,IAAAA;AADpC,GAAP;AAIH","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\nimport { isPlatform } from '@ionic/react';\nimport { Plugins } from '@capacitor/core';\nimport { useStorage, useStorageItem, availableFeatures } from '@capacitor-community/react-hooks/storage';\n\n\nlet tableauToDo: string[] = [];\n\n\n\n\nexport function useToDoList() {\n\n    const { get, set, remove, getKeys, clear } = useStorage();\n\n    const initializeItems = () => { get('todos').then((valueInitial) => {\n        if (valueInitial != null) {\n            const tableauActual = JSON.parse(valueInitial)\n            console.log('Tabbleau enregistré',tableauActual)\n            tableauToDo = tableauActual\n            console.log('Tabbleau toDo',tableauToDo)\n        }\n    })}\n\n    const saveItem = (itemValue: string) => {\n        //remove('todos')\n\n        tableauToDo.push(itemValue)\n        remove('todos')\n        set('todos', JSON.stringify(tableauToDo))\n\n        //console.log(get('todos'))\n    }\n\n    const removeAllItems = () => {\n        //Pour retirer tous les items stockés dans la liste : \n        remove('todos')\n        tableauToDo = []\n        console.log(tableauToDo)\n    }\n\n    \n\n    return {\n        saveItem, tableauToDo, removeAllItems, initializeItems\n    }\n\n}\n\n\nexport interface ToDoList {\n    filepath: string;\n    webviewPath?: string;\n}"]},"metadata":{},"sourceType":"module"}